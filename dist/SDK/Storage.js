var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.sessionStorage=exports.Storage=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _store=_interopRequireDefault(require("./store"));var _globalThis$sessionSt;function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2["default"])(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Storage=function(_Store){(0,_inherits2["default"])(Storage,_Store);var _super=_createSuper(Storage);function Storage(){(0,_classCallCheck2["default"])(this,Storage);return _super.call(this);}(0,_createClass2["default"])(Storage,[{key:"getAccessToken",value:function(){var _getAccessToken=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee(){return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",this.getItem('accessToken'));case 1:case"end":return _context.stop();}}},_callee,this);}));function getAccessToken(){return _getAccessToken.apply(this,arguments);}return getAccessToken;}()},{key:"setAccessToken",value:function(){var _setAccessToken=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee2(newAccessToken){return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",this.setItem('accessToken',this.convertString(newAccessToken)));case 1:case"end":return _context2.stop();}}},_callee2,this);}));function setAccessToken(_x){return _setAccessToken.apply(this,arguments);}return setAccessToken;}()},{key:"getState",value:function(){var _getState=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee3(){return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",this.getItem('state'));case 1:case"end":return _context3.stop();}}},_callee3,this);}));function getState(){return _getState.apply(this,arguments);}return getState;}()},{key:"setState",value:function(){var _setState=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee4(newState){return _regenerator["default"].wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",this.setItem('state',this.convertString(newState)));case 1:case"end":return _context4.stop();}}},_callee4,this);}));function setState(_x2){return _setState.apply(this,arguments);}return setState;}()},{key:"getCodeVerifier",value:function(){var _getCodeVerifier=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee5(){return _regenerator["default"].wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",this.getItem('codeVerifier'));case 1:case"end":return _context5.stop();}}},_callee5,this);}));function getCodeVerifier(){return _getCodeVerifier.apply(this,arguments);}return getCodeVerifier;}()},{key:"setCodeVerifier",value:function(){var _setCodeVerifier=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee6(newCodeVerifier){return _regenerator["default"].wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",this.setItem('codeVerifier',this.convertString(newCodeVerifier)));case 1:case"end":return _context6.stop();}}},_callee6,this);}));function setCodeVerifier(_x3){return _setCodeVerifier.apply(this,arguments);}return setCodeVerifier;}()},{key:"convertString",value:function convertString(str){return typeof str==='string'?str:JSON.stringify(str);}}]);return Storage;}(_store["default"]);exports.Storage=Storage;var sessionStorage=globalThis.sessionStorage=(_globalThis$sessionSt=globalThis.sessionStorage)!==null&&_globalThis$sessionSt!==void 0?_globalThis$sessionSt:new Storage();exports.sessionStorage=sessionStorage;